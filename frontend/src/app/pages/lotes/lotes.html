<div class="page-header">
  <h2>Lotes</h2>
  <button (click)="abrirNuevo()">+ Nuevo Lote</button>
</div>

<div class="card">
  <table>
    <thead>
      <tr>
        <th>Código</th>
        <th>Fecha</th>
        <th>Kg Baba</th>
        <th>Estado</th>
        <th>Stock</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let lote of lotes">
        <td>{{ lote.codigo }}</td>
        <td>{{ lote.fecha_compra | date }}</td>
        <td>{{ lote.kg_baba_compra }}</td>
        <td>
          <span class="badge" [ngClass]="lote.estado.toLowerCase()">
            {{ lote.estado }}
          </span>
        </td>
        <td>{{ lote.stock_actual }}</td>
      </tr>
    </tbody>
  </table>
</div>

<!-- MODAL -->
<div class="modal-backdrop" *ngIf="mostrarModal">
  <div class="modal">

    <h3>Registrar Nuevo Lote</h3>

    <div class="form-group">
      <label>Código</label>
      <input type="text" [(ngModel)]="nuevoLote.codigo">
    </div>

    <div class="form-group">
      <label>Fecha de Compra</label>
      <input type="date" [(ngModel)]="nuevoLote.fecha_compra">
    </div>

    <div class="form-group">
      <label>Nombre del Proveedor</label>
      <input type="text" [(ngModel)]="nuevoLote.nombre_proveedor">
    </div>

    <div class="form-group">
      <label>Kg Baba Compra</label>
      <input type="number" [(ngModel)]="nuevoLote.kg_baba_compra">
    </div>

    <div class="form-group">
      <label>Kg Segunda</label>
      <input type="number" [(ngModel)]="nuevoLote.kg_segunda">
    </div>

    <div class="modal-actions">
      <button class="cancel" (click)="cerrarModal()">Cancelar</button>
      <button class="save" (click)="guardar()">Guardar</button>
    </div>

  </div>
</div>
